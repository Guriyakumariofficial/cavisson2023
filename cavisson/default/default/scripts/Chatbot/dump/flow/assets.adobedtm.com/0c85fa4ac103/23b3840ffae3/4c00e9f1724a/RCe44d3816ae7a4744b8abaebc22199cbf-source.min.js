// For license information, see `https://assets.adobedtm.com/0c85fa4ac103/23b3840ffae3/4c00e9f1724a/RCe44d3816ae7a4744b8abaebc22199cbf-source.js`.
_satellite.__registerScript('https://assets.adobedtm.com/0c85fa4ac103/23b3840ffae3/4c00e9f1724a/RCe44d3816ae7a4744b8abaebc22199cbf-source.min.js', "!function(e,t){var n=function(e){e=e||\"lplaunch_fail\",Gauge.track({method:\"post\",path:\"/link/livePersonChatFailure\",data:{errorName:e}})};if(void 0===e)return console.warn(\"Adobe-Launch-US: LiveEngageCodeInjector() LaunchDataHelper is undefined.\"),n(\"lplaunch_fail_ldh_undefined\"),\"unavailable\";var a=function(e,t){window.location.search.indexOf(\"lpTest=true\")>-1&&_satellite.logger.log(e,t)},i=function(){if(\"product-display\"===_satellite.getVar(\"pageType\")){var t=e.get(dataLayer,\"products[0].attributes.buyableStatus\",void 0);if(\"out_of_stock\"===t||\"discontinued\"===t||void 0===t)return\"out-of-stock\"}},s={QUALIFIED:\"qualified\",QUALIFIED_CONTROL:\"qualified_control\",INVITE_TRUE:\"invite_true\",INVITE_ACCEPTED:\"invite_accepted\",CHAT_ACTIVE:\"chat_active\",CHAT_ENDED:\"chat_ended\",CHAT_SCREEN_SHARE:\"chat_screen-share\"},o=function(a){a=a||\"DIY\",\"undefined\"!=typeof lpTag?lpTag.sdes=lpTag.sdes||[]:(n(\"lplaunch_fail_lpTag_lea_undefined\"),console.warn(\"Adobe-Launch-US: LiveEngageCodeInjector() liveEngageAttributes = function() lpTag is undefined.\")),window.engagementAttributes=window.engagementAttributes||{},prodArray=[];var i=_satellite.getVar(\"pageType\"),s=_satellite.getVar(\"products\");engagementAttributes={arrOfObj:[],loadCartItems:function(){s.forEach((function(t){prodArray.push({product:{name:e.get(t,\"name\",\"\"),category:_satellite.getVar(\"lpPageName\"),sku:e.get(t,\"ivm\",\"\"),price:e.get(t,\"unitPrice\",\"\")},quantity:e.get(t,\"quantity\",\"\")})}))},cartUpdate:function(){this.loadCartItems();var t={type:\"cart\",total:_satellite.getVar(\"currentSubtotal\"),numItems:e.get(Lowes,\"CartCount.qty\"),products:prodArray};this.arrOfObj.push(t)},transaction:function(){this.loadCartItems();var e={type:\"purchase\",total:_satellite.getVar(\"currentSubtotal\"),orderId:_satellite.getVar(\"orderID\")||0,cart:{products:prodArray}};this.arrOfObj.push(e)},viewedProducts:function(){var n={type:\"prodView\",products:[{product:{name:e.get(t,\"products[0].productInfo.productName\",\"-\"),category:(_satellite.getVar(\"lpPageName\")||\"-\")+\":\"+e.get(t,\"products[0].productInfo.brand\",\"-\"),sku:e.get(t,\"products[0].productInfo.ivm\",\"-\"),price:e.get(t,\"products[0].attributes.sellingPrice\",0)}}]};this.arrOfObj.push(n)},customerInfo:function(t){var n,a={type:\"ctmrinfo\",info:{accountName:(\"function\"==typeof(n=e.get(lpTag,\"taglets.lp_monitoringSDK.getVid\"))?n:function(){return\"\"})(),userName:_satellite.getVar(\"storeName\")||\"-\",companySize:_satellite.getVar(\"storeID\")||0,socialId:_satellite.getVar(\"storeZip\")||\"-\",ctype:t,cstatus:_satellite.getVar(\"userStatus\")||\"-\",customerId:_satellite.getVar(\"userID\")||null}};this.arrOfObj.push(a)},personalInfo:function(){var n=\"\";if(e.get(t,\"search.filters.length\",0)>0){for(var a in t.search.filters)n+=t.search.filters[a].groupName+\": \"+t.search.filters[a].filterName+\", \";n=n.slice(0,-2)}var i={type:\"personal\",personal:{firstname:e.get(Lowes,\"User.Details.firstName\",\"-\"),lastname:\"-\",contacts:[{phone:_satellite.getVar(\"searchTerm\")||\"-\",email:\"-\"}],company:n||\"-\"}};engagementAttributes.arrOfObj.push(i)},updateFilters:function(){window.document.addEventListener(\"update-refinement\",(function(){engagementAttributes.personalInfo(),engagementAttributes.sendObjects()}))},lead:function(){var n={type:\"lead\",lead:{topic:\"product brand\",leadId:e.get(t,\"products[0].brandName\")||\"-\"}};this.arrOfObj.push(n)},sendObjects:function(){lpTag.sdes.push(this.arrOfObj)},init:function(){switch(i){case\"order_confirmation\":case\"confirm\":this.transaction();break;case\"shopping-cart\":case\"checkout\":this.cartUpdate();break;case\"product-display\":this.viewedProducts();break;case\"product-list\":this.updateFilters();var e=document.querySelector(\".js-refinements-checkbox\");e&&e.addEventListener(\"change\",(function(){this.updateFilters()}))}this.customerInfo(a),this.personalInfo(),this.sendObjects()}},\"undefined\"!=typeof lpTag?(lpTag.events=lpTag.events||{},lpTag.events?lpTag.events.bind(\"lp_sdes\",\"VAR_ADDED\",engagementAttributes.init()):(n(\"lplaunch_fail_lpTageventsbind_undefined\"),console.warn(\"Adobe-Launch-US: LiveEngageCodeInjector() liveEngageAttributes lpTag.events.bind is undefined.\"))):(n(\"lplaunch_fail_lpTag_lea_undefined\"),console.warn(\"Adobe-Launch-US: LiveEngageCodeInjector() liveEngageAttributes lpTag is undefined.\"))},r={LEAN:[\"www.lowes.com\",\"m.lowes.com\"].indexOf(window.location.hostname)>-1?\"22554410\":\"51200453\",_createLivePersonButton:function(){var e=document.createElement(\"div\");e.id=\"liveperson-persist-button\",e.className=\"sticky sticky-bottom lowes-white\",document.body.appendChild(e)},_setupLPTag:function(e){window.lpTag=window.lpTag||{},void 0===window.lpTag._tagCount?(window.lpTag={wl:lpTag.wl||null,scp:lpTag.scp||null,site:e||\"\",section:lpTag.section||\"\",tagletSection:lpTag.tagletSection||null,autoStart:!1!==lpTag.autoStart,ovr:lpTag.ovr||{},_v:\"1.10.0\",_tagCount:1,protocol:\"https:\",events:{bind:function(e,t,n){lpTag.defer((function(){lpTag.events.bind(e,t,n)}),0)},trigger:function(e,t,n){lpTag.defer((function(){lpTag.events.trigger(e,t,n)}),1)}},defer:function(e,t){0===t?(this._defB=this._defB||[],this._defB.push(e)):1===t?(this._defT=this._defT||[],this._defT.push(e)):(this._defL=this._defL||[],this._defL.push(e))},load:function(e,t,n){var a=this;setTimeout((function(){a._load(e,t,n)}),0)},_load:function(e,t,n){var a=e;e||(a=this.protocol+\"//\"+(this.ovr&&this.ovr.domain?this.ovr.domain:\"lptag.liveperson.net\")+\"/tag/tag.js?site=\"+this.site);var i=document.createElement(\"script\");i.setAttribute(\"charset\",t||\"UTF-8\"),n&&i.setAttribute(\"id\",n),i.setAttribute(\"src\",a),document.getElementsByTagName(\"head\").item(0).appendChild(i)},init:function(){this._timing=this._timing||{},this._timing.start=(new Date).getTime();var e=this;window.attachEvent?window.attachEvent(\"onload\",(function(){e._domReady(\"domReady\")})):(window.addEventListener(\"DOMContentLoaded\",(function(){e._domReady(\"contReady\")}),!1),window.addEventListener(\"load\",(function(){e._domReady(\"domReady\")}),!1)),void 0===window._lptStop&&this.load()},start:function(){this.autoStart=!0},_domReady:function(e){this.isDom||(this.isDom=!0,this.events.trigger(\"LPT\",\"DOM_READY\",{t:e})),this._timing[e]=(new Date).getTime()},vars:lpTag.vars||[],dbs:lpTag.dbs||[],ctn:lpTag.ctn||[],sdes:lpTag.sdes||[],hooks:lpTag.hooks||[],identities:lpTag.identities||[],ev:lpTag.ev||[]},lpTag.init()):window.lpTag._tagCount+=1},_setupLPTagSections:function(){var t=window.location.hostname.indexOf(\"lowesforpros\")>-1?\"lfp\":\"lowes\",n=\"lang=\"+e.get(window,\"navigator.language\",\"en-US\"),a=[t,_satellite.getVar(\"pageType\"),_satellite.getVar(\"siteSections\"),n,i()];a=[a.join(\" : \")],void 0!==window.lpABTestSegment?a.push(String(window.lpABTestSegment)):_satellite.cookie.get(\"lpABTestSegment\")?(a.push(_satellite.cookie.get(\"lpABTestSegment\")),void 0===window.lpABTestSegment&&(window.lpABTestSegment=_satellite.cookie.get(\"lpABTestSegment\"))):(a.push(\"99999\"),window.lpABTestSegment=\"99999\"),lpTag.section=a},_bindEvents:function(){lpTag.events.bind(\"LP_OFFERS\",\"START\",g),lpTag.events.bind(\"LP_OFFERS\",\"OFFER_CLICK\",u),lpTag.events.bind(\"lpUnifiedWindow\",\"conversationInfo\",p),lpTag.events.bind(\"lpUnifiedWindow\",\"cobrowseAccepted\",f),lpTag.events.bind(\"lpUnifiedWindow\",\"state\",m)},init:function(){this._createLivePersonButton(),this._setupLPTag(this.LEAN),this._setupLPTagSections(),this._bindEvents()}},c={key:\"lpTag.campaigns\",sessionStorage:e.storageAvailable(\"sessionStorage\"),get:function(e,t){try{if(sessionStorage)var n=JSON.parse(sessionStorage.getItem(c.key)||\"{}\");return void 0!==t?Object.keys(n[e]||{}).length>0&&n[e][t]:void 0!==e?n[e]:n}catch(e){return{}}},set:function(e,t,n){a(\"set\",[e,t,n]);var i=c.get();return void 0!==n?(void 0!==i[e]||(i[e]={}),i[e][t]=n):i[e]=t,sessionStorage&&sessionStorage.setItem(c.key,JSON.stringify(i)),n},add:function(e,t){var n=c.get(e)||[];return-1===n.indexOf(t)&&(n.push(t),c.set(e,n),!0)},check:function(e,t){var n=c.get();return(!n[e]||!n[e][t])&&(n[e]||(n[e]={}),n[e][t]=!0,sessionStorage&&sessionStorage.setItem(c.key,JSON.stringify(n)),!0)},updateChatData:function(e){var t=c.get(),n=t.chatData||{};for(var a in e)void 0!==e[a]&&(n[a]=e[a]);return t.chatData=n,sessionStorage&&sessionStorage.setItem(c.key,JSON.stringify(t)),!0}},l={getMonitoringSessionID:function(){try{return lpTag.taglets.lp_monitoringSDK.getSid()}catch(e){return\"\"}},getVisitorID:function(){try{return lpTag.taglets.lp_monitoringSDK.getVid()}catch(e){return\"\"}}},d={track:function(e){var t=this._getChatData();this._sendGaugeTracking(e,t)},_getChatData:function(){try{var e={};return(e=JSON.parse(sessionStorage.getItem(c.key)).chatData).campaignId=JSON.parse(sessionStorage.getItem(c.key)).currentCampaign,e}catch(e){return{}}},_sendGaugeTracking:function(t,n){if(void 0===window.Gauge)return _satellite.logger.log(\"Adobe Launch LiveEngageCodeInjector: sendGaugeTracking() Gauge is undefined.\"),\"unavailable\";n=n||{};var a=e.get(window,\"dataLayer\",{});a.chatEngagement={},a.chatEngagement.livePerson={},a.chatEngagement.livePerson.campaignId=n.campaignId||\"\",a.chatEngagement.livePerson.engagementId=n.engagementId||\"\",Gauge.track({method:\"post\",path:\"/link/clickToChat\",data:{livePersonRequestType:t,livePerson:{campaignId:n.campaignId,engagementId:n.engagementId,skill:n.skill,monitoringSessionId:n.monitoringSessionId,visitorId:n.visitorId},linkName:\"lp_\"+t}})}},g=function(e){if(a(\"LPFunction livePersonStart:: \",e),!c.get(s.CHAT_ACTIVE)){var t={engagementId:e.engagementId,skill:e.skill,monitoringSessionId:l.getMonitoringSessionID(),visitorId:l.getVisitorID()};switch(c.updateChatData(t),c.set(\"currentCampaign\",e.campaignId),e.state){case 1:c.check(e.campaignId,s.QUALIFIED)&&(d.track(s.INVITE_TRUE),d.track(s.QUALIFIED));break;case 2:case 4:c.check(e.campaignId,\"control\")&&d.track(s.QUALIFIED_CONTROL)}}},u=function(e){a(\"LPFunction livepersonofferclick:\",e),c.set(s.INVITE_ACCEPTED,!0),d.track(s.INVITE_ACCEPTED),\"mobile\"===_satellite.getVar(\"siteID\")&&(sessionStorage&&sessionStorage.setItem(\"suppressMedallia\",\"true\"),document.querySelector(\".kampyle_vertical_button\").style.display=\"none\")},p=function(e){a(\"LPFunction livepersonconversation:\",e),c.updateChatData({skill:e.skill});var t=e.campaignId||e.cid;switch(e.state){case\"resume\":c.get(\"currentCampaign\")!==t&&(c.get(s.CHAT_ACTIVE)&&c.add(\"chatCampaigns\",c.get(\"currentCampaign\"))&&d.track(s.CHAT_ACTIVE),c.get(s.CHAT_SCREEN_SHARE)&&c.add(\"chat_screen-shareCampaigns\",c.get(\"currentCampaign\"))&&d.track(s.CHAT_SCREEN_SHARE));break;case\"interactive\":c.get(s.INVITE_ACCEPTED)&&(c.set(s.INVITE_ACCEPTED,!1),c.set(s.CHAT_ACTIVE,!0),c.add(\"chatCampaigns\",e.campaignId),d.track(s.CHAT_ACTIVE));break;case\"chatting\":document.querySelector(\".lp_close\").removeEventListener(\"click\",h)}},f=function(e){a(\"LPFunction livePersonCoBrowse:\",e),c.set(s.CHAT_SCREEN_SHARE,!0),c.add(\"chat_screen-shareCampaigns\",e.campaignId||e.cid),d.track(s.CHAT_SCREEN_SHARE)},m=function(e){switch(a(\"LPFunction state:\",e),e.state){case\"preChat\":document.querySelector(\".lp_close\").addEventListener(\"click\",h);break;case\"ended\":a(\"in ended case\"),d.track(s.CHAT_ENDED),sessionStorage&&sessionStorage.removeItem(c.key),\"mobile\"===_satellite.getVar(\"siteID\")&&document.querySelector(\".lp_close\").addEventListener(\"click\",h),sessionStorage&&sessionStorage.removeItem(\"suppressMedallia\");break;case\"interactive\":c.get(s.INVITE_ACCEPTED)&&(c.set(s.INVITE_ACCEPTED,!1),c.set(s.CHAT_ACTIVE,!0),c.add(\"chatCampaigns\",e.campaignId),d.track(s.CHAT_ACTIVE))}},h=function(){document.querySelector(\".kampyle_vertical_button\").style.display=\"\",sessionStorage&&sessionStorage.removeItem(\"suppressMedallia\");var e=document.getElementById(\"suppressMedallia\");document.querySelector(\".kampyle_vertical_button\").style.display=\"\",e&&e.remove()},_=function(e){var t=(e=e||[]).find((e=>\"HPRO\"===e)),n=e.find((e=>\"MLTY\"===e)),a=e.find((e=>\"TPRO\"===e||\"TDIY\"===e));return t?\"PRO\":n?\"MLTY\":a?\"LAC\":\"DIY\"}(_satellite.getVar(\"cookielessAudienceList\")),T=function(){window.lpTag=window.lpTag||{},lpTag.identities=lpTag.identities||[];var t=function(t){t({iss:window.location.href,acr:\"loa1\",sub:_satellite.getVar(\"identityID\")||null,email:e.get(window,\"Lowes.User.Details.logon\",null)})};lpTag.identities.push(t)},v=function(){window.getLPToken=function(e){var t=\"\";t=window.location.href.indexOf(\"sit4\")>-1?\"https://lwscomsit4.lowes.com/livep/create\":\"https://www.lowes.com/livep/create\";var n=new XMLHttpRequest;n.open(\"POST\",t,!0),n.setRequestHeader(\"Content-Type\",\"application/json\"),n.send(JSON.stringify({userid:_satellite.getVar(\"identityID\"),firstName:LaunchDataHelper.get(window.Lowes,\"User.Details.firstName\",\"-\")})),n.onloadend=function(){e(n.responseText)}}},I=function(){!0===Lowes.User.isSignedIn()&&T(),v(),r.init(),o(_)};try{I()}catch(e){n(\"lplaunch_fail_liveEngageInit\")}}(window.LaunchDataHelper,window.dataLayer);");